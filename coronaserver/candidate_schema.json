{
  "schema_name": "Country Video Games Candidate",
  "schema_description": "Schema creates a simple searchable database using FEC donations as a source.",
  "schema_version": "1.0",
  "schema_authors": [ "TJ Bandrowsky" ],
  "classes": [
    {
      "class_name": "Candidates",
      "class_description": "Candidates running for public office",
      "base_class_name": "sys_object",
      "fields": {
        "candidate_id": "string",
        "full_name": "string",
        "political_party": "string",
        "election_year": "int64",
        "street1": "string",
        "street2": "string",
        "city": "string",
        "state": "string",
        "zip": "string",
        "committees": {
          "field_type": "query",
          "field_name" : "committees",
          "query": {
            "from": [
              {
                "class_name": "CommitteeCandidates",
                "name": "CommitteeCandidates",
                "filter": {
                  "candidate_id": "$this.candidate_id"
                }
              },
              {
                "class_name": "Committees",
                "name": "Committees",
                "filter": {
                  "committee_id": "CommitteeCandidates.committee_id"
                }
              }
            ],
            "stages": [
              {
                "class_name": "filter",
                "stage_input_name": "Committees"
              }
            ]
          }
        }
      },
      "indexes": {
        "candidate_candidate_id_idx": {
          "index_keys": [ "candidate_id" ]
        },
        "candidate_full_name_idx": {
          "index_keys": [ "full_name" ]
        }
      }
    },
    {
      "class_name": "Committees",
      "class_description": "Political groups that accept money from the public to support candidates",
      "base_class_name": "sys_object",
      "fields": {
        "committee_id": "string",
        "committee_name": "string",
        "political_party": "string"
      },
      "indexes": {
        "committee_committee_id_idx": {
          "index_keys": [ "committee_id" ]
        }
      }
    },
    {
      "class_name": "CommitteeCandidates",
      "class_description": "Mapping of committees and candidates",
      "base_class_name": "sys_object",
      "fields": {
        "committee_id": "string",
        "candidate_id": "string"
      },
      "indexes": {
        "committee_candidate_committee_id_idx": {
          "index_keys": [ "committee_id" ]
        },
        "committee_candidate_candidate_id_idx": {
          "index_keys": [ "candidate_id" ]
        }
      }
    },
    {
      "class_name": "Individuals",
      "class_description": "Mapping of committees and candidates",
      "base_class_name": "sys_object",
      "fields": {
        "committee_id": "string",
        "full_name": "string",
        "city": "string",
        "state": "string",
        "zip": "string",
        "employer": "string",
        "occupation": "string",
        "transaction_date": "datetime",
        "transaction_amount": "double",
        "memo": "string"
      }
    },
    {
      "class_name": "People",
      "class_description": "SQL Server Adventure Works People.People",
      "base_class_name": "sys_object",
      "fields": {
        "BusinessEntityID": "string",
        "PersonType": "string",
        "NameStyle": "string",
        "Title": "string",
        "FirstName": "string",
        "MiddleName": "string",
        "LastName": "string",
        "Suffix": "string",
        "EmailPromotion": "number"
      },
      "sql": {
        "connection_name": "",
        "sql_view_name": "",
        "sql_table_name": "",
        "mappings": [
          {
            "corona_field_name": "BusinessEntityID",
            "sql_field_name": "BusinessEntityID",
            "primary_key": true,
            "field_type": "string",
            "string_size": 20.0
          },
          {
            "corona_field_name": "PersonType",
            "sql_field_name": "PersonType",
            "primary_key": false,
            "field_type": "string",
            "string_size": 20.0
          },
          {
            "corona_field_name": "NameStyle",
            "sql_field_name": "NameStyle",
            "primary_key": false,
            "field_type": "string",
            "string_size": 20.0
          },
          {
            "corona_field_name": "Title",
            "sql_field_name": "Title",
            "primary_key": false,
            "field_type": "string",
            "string_size": 20.0
          },
          {
            "corona_field_name": "FirstName",
            "sql_field_name": "FirstName",
            "primary_key": false,
            "field_type": "string",
            "string_size": 20.0
          },
          {
            "corona_field_name": "MiddleName",
            "sql_field_name": "MiddleName",
            "primary_key": false,
            "field_type": "string",
            "string_size": 20.0
          },
          {
            "corona_field_name": "LastName",
            "sql_field_name": "LastName",
            "primary_key": false,
            "field_type": "string",
            "string_size": 20.0
          }
        ]
      }
    }
  ],
  "users": [],
  "datasets": [
    {
      "dataset_name": "Candidate Master",
      "dataset_description": "Load Candidates",
      "dataset_version": "1.0",
      "dataset_author": "Federal Elections Commission",
      "dataset_source": "https://www.fec.gov/data/browse-data/?tab=bulk-data",
      "import": {
        "type": "csv",
        "delimiter": "|",
        "filename": "cn.csv",
        "target_class": "Candidates",
        "column_map": {
          "0": "candidate_id",
          "1": "full_name",
          "2": "political_party",
          "3": "election_year",
          "10": "street1",
          "11": "street2",
          "12": "city",
          "13": "state",
          "14": "zip"
        }
      }
    },
    {
      "dataset_name": "Committee Master",
      "dataset_description": "Load Committees",
      "dataset_version": "1.0",
      "dataset_author": "Federal Elections Commission",
      "dataset_source": "https://www.fec.gov/data/browse-data/?tab=bulk-data",
      "import": {
        "type": "csv",
        "delimiter": "|",
        "filename": "cm.csv",
        "target_class": "Committees",
        "column_map": {
          "0": "committee_id",
          "1": "committee_name",
          "10": "political_party",
          "13": "company_name"
        }
      }
    },
    {
      "dataset_name": "CommitteeCandidates Master",
      "dataset_description": "Map Committees and Candidates",
      "dataset_version": "1.0",
      "dataset_author": "Federal Elections Commission",
      "dataset_source": "https://www.fec.gov/data/browse-data/?tab=bulk-data",
      "import": {
        "type": "csv",
        "delimiter": "|",
        "filename": "ccl.csv",
        "target_class": "CommitteeCandidates",
        "column_map": {
          "0": "candidate_id",
          "3": "committee_id"
        }
      }
    },

    {
      "dataset_name": "Individual Master",
      "dataset_description": "Load Individuals",
      "dataset_version": "1.0",
      "dataset_author": "Federal Elections Commission",
      "dataset_source": "https://www.fec.gov/data/browse-data/?tab=bulk-data",
      "import": {
        "type": "csv",
        "delimiter": "|",
        "filename": "itcont.csv",
        "target_class": "Individuals",
        "column_map": {
          "0": "committee_id",
          "8": "full_name",
          "9": "city",
          "10": "state",
          "11": "zip",
          "12": "employer",
          "13": "occupation",
          "14": "transaction_date",
          "15": "transaction_amount",
          "20": "memo"
        }
      }
    }
  ]
}
